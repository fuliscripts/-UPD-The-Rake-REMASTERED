
-- Fuli Rake Exploit Base GUI Setup
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")
local RunService = game:GetService("RunService")
local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "FuliRakeTogglesGUI"
local toggles = {}

local function createToggleButton(text, pos, callback)
    local state = false
    local button = Instance.new("TextButton", gui)
    button.Size = UDim2.new(0, 200, 0, 40)
    button.Position = pos
    button.Text = text .. ": OFF"
    button.BackgroundTransparency = 0.3
    button.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    button.TextColor3 = Color3.new(1, 1, 1)

    button.MouseButton1Click:Connect(function()
        state = not state
        button.Text = text .. ": " .. (state and "ON" or "OFF")
        callback(state)
    end)
end

-- Kill Rake Toggle (Auto Loop + Contador de kills)
local killCount = 0

-- Contador visual en pantalla
local counterLabel = Instance.new("TextLabel", gui)
counterLabel.Size = UDim2.new(0, 200, 0, 30)
counterLabel.Position = UDim2.new(0, 20, 0, 470)
counterLabel.BackgroundTransparency = 0.3
counterLabel.BackgroundColor3 = Color3.new(0, 0, 0)
counterLabel.TextColor3 = Color3.new(1, 1, 1)
counterLabel.TextScaled = true
counterLabel.Text = "Rake kills: 0"

createToggleButton("Kill Rake", UDim2.new(0, 20, 0, 20), function(enabled)
    if enabled then
        toggles.kill = RunService.Heartbeat:Connect(function()
            for _, v in pairs(Workspace:GetChildren()) do
                if v:IsA("Model") and v.Name:lower():find("rake") then
                    local humanoid = v:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        if humanoid.Health > 0 then
                            humanoid:TakeDamage(9999)
                        elseif humanoid.Health <= 0 then
                            for _, child in pairs(v:GetDescendants()) do
                                if child:IsA("Script") or child:IsA("BasePart") then
                                    child:Destroy()
                                end
                            end
                            v:Destroy()
                            killCount += 1
                            counterLabel.Text = "Rake kills: " .. killCount
                            game.StarterGui:SetCore("SendNotification", {
                                Title = "Fuli Hub",
                                Text = "✅ Rake eliminado #" .. tostring(killCount),
                                Duration = 4
                            })
                        end
                    end
                end
            end
        end)
    else
        if toggles.kill then toggles.kill:Disconnect() end
    end
end)

-- Detector de estado "Enraged" del Rake
local enragedLabel = Instance.new("TextLabel", gui)
enragedLabel.Size = UDim2.new(0, 200, 0, 30)
enragedLabel.Position = UDim2.new(0, 20, 0, 510)
enragedLabel.BackgroundTransparency = 0.3
enragedLabel.BackgroundColor3 = Color3.new(0.2, 0, 0)
enragedLabel.TextColor3 = Color3.new(1, 1, 1)
enragedLabel.TextScaled = true
enragedLabel.Text = "Enraged: Unknown"

RunService.Heartbeat:Connect(function()
    for _, v in pairs(Workspace:GetChildren()) do
        if v:IsA("Model") and v.Name:lower():find("rake") then
            if v:FindFirstChild("Enraged") and v.Enraged:IsA("BoolValue") then
                if v.Enraged.Value == true then
                    enragedLabel.Text = "Enraged: YES"
                    enragedLabel.BackgroundColor3 = Color3.new(1, 0, 0)
                else
                    enragedLabel.Text = "Enraged: NO"
                    enragedLabel.BackgroundColor3 = Color3.new(0, 0.5, 0)
                end
            else
                enragedLabel.Text = "Enraged: Unknown"
                enragedLabel.BackgroundColor3 = Color3.new(0.2, 0, 0)
            end
        end
    end
end)

-- Neutralizar / Restaurar al Rake (toggle visual con color)
createToggleButton("Neutralizar Rake", UDim2.new(0, 240, 0, 20), function(enabled)
    local button = gui:FindFirstChildWhichIsA("TextButton", true)
    if enabled then
        toggles.disable = RunService.Heartbeat:Connect(function()
            for _, v in pairs(Workspace:GetChildren()) do
                if v:IsA("Model") and v.Name:lower():find("rake") then
                    local humanoid = v:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid.WalkSpeed = 0
                        humanoid.JumpPower = 0
                        humanoid:ChangeState(Enum.HumanoidStateType.Seated)
                    end
                    for _, part in pairs(v:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.Anchored = true
                            part.CanCollide = false
                            part.Transparency = 0.5
                        end
                    end
                    if button then button.BackgroundColor3 = Color3.new(1, 0, 0) end
                    game.StarterGui:SetCore("SendNotification", {
                        Title = "Fuli Hub",
                        Text = "☠️ Rake neutralizado",
                        Duration = 3
                    })
                end
            end
        end)
    else
        if toggles.disable then toggles.disable:Disconnect() end
        for _, v in pairs(Workspace:GetChildren()) do
            if v:IsA("Model") and v.Name:lower():find("rake") then
                local humanoid = v:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid.WalkSpeed = 16
                    humanoid.JumpPower = 50
                end
                for _, part in pairs(v:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.Anchored = false
                        part.CanCollide = true
                        part.Transparency = 0
                    end
                end
                if button then button.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2) end
                game.StarterGui:SetCore("SendNotification", {
                    Title = "Fuli Hub",
                    Text = "🔄 Rake restaurado",
                    Duration = 3
                })
            end
        end
    end
end)

-- Otros toggles (placeholders para funciones extra si se agregan más)
